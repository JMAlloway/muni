# =============================================================================
# EasyRFP Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
# Options: local, development, staging, production
ENV=local

# -----------------------------------------------------------------------------
# Security & Authentication (REQUIRED)
# -----------------------------------------------------------------------------
# Secret key for JWT tokens and session signing
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-this-in-production

# JWT token expiration in minutes
ACCESS_TOKEN_EXPIRES_MIN=120

# -----------------------------------------------------------------------------
# Database (REQUIRED)
# -----------------------------------------------------------------------------
# Local development (SQLite)
DB_URL=sqlite+aiosqlite:///./muni.db

# Production (PostgreSQL) - Heroku auto-sets DATABASE_URL
# DB_URL will auto-convert from postgres:// to postgresql+asyncpg://
# DATABASE_URL=postgresql://user:password@host:5432/dbname

# -----------------------------------------------------------------------------
# Email / SMTP (REQUIRED for email digests)
# -----------------------------------------------------------------------------
# Development (Mailtrap or local SMTP)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_FROM=alerts@easyrfp.local
SMTP_USERNAME=
SMTP_PASSWORD=

# Production (SendGrid example)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_FROM=noreply@easyrfp.ai
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=SG.your-sendgrid-api-key-here

# -----------------------------------------------------------------------------
# Scheduler / Digest Configuration
# -----------------------------------------------------------------------------
# Hour to send daily digests (0-23, in TIMEZONE below)
DIGEST_SEND_HOUR=7

# Timezone for scheduling
TIMEZONE=America/New_York

# -----------------------------------------------------------------------------
# Bootstrap Admin User (REQUIRED for initial setup)
# -----------------------------------------------------------------------------
# Creates an admin user on first startup if missing
ADMIN_EMAIL=admin@easyrfp.local
ADMIN_PASSWORD=change-this-password

# -----------------------------------------------------------------------------
# AI / LLM Configuration (OPTIONAL - enables AI categorization)
# -----------------------------------------------------------------------------
# Enable AI features (true/false)
AI_ENABLED=true

# AI provider: "ollama" (local) or "openai" (hosted)
AI_PROVIDER=ollama

# Ollama configuration (for local LLM)
OLLAMA_MODEL=llama3
OLLAMA_BASE_URL=http://localhost:11434

# OpenAI configuration (if using hosted AI)
# OPENAI_API_KEY=sk-your-openai-key-here

# -----------------------------------------------------------------------------
# Deployment / Hosting
# -----------------------------------------------------------------------------
# Public hostname (no https://, used for canonical redirects & email links)
PUBLIC_APP_HOST=localhost:8000

# Start scheduler in web dyno (MUST be false for Heroku - use worker dyno)
START_SCHEDULER_WEB=false

# Run database migrations on startup (MUST be false in production)
RUN_DDL_ON_START=true

# -----------------------------------------------------------------------------
# Stripe Payment Integration (REQUIRED for billing)
# -----------------------------------------------------------------------------
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Stripe Price IDs (create in Stripe dashboard)
# For Starter tier ($39/mo or $49/mo)
STRIPE_PRICE_STARTER=price_your-starter-price-id

# For Professional tier ($79/mo or $99/mo)
STRIPE_PRICE_PROFESSIONAL=price_your-professional-price-id

# For Team/Enterprise tier ($199/mo or $239/mo)
STRIPE_PRICE_ENTERPRISE=price_your-enterprise-price-id

# Stripe webhook signing secret (from webhook settings)
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# -----------------------------------------------------------------------------
# Storage (OPTIONAL - S3/Cloudflare R2 for file uploads)
# -----------------------------------------------------------------------------
# If not set, files stored locally in LOCAL_UPLOAD_DIR

# S3 or Cloudflare R2 bucket name
# DOCS_BUCKET=easyrfp-uploads

# Cloudflare R2 endpoint (if using R2)
# S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com

# AWS credentials
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_REGION=us-east-1

# S3 addressing style (virtual or path)
# S3_ADDRESSING_STYLE=virtual

# Local upload directory (if not using S3/R2)
LOCAL_UPLOAD_DIR=uploads

# -----------------------------------------------------------------------------
# SMS Notifications (OPTIONAL - Twilio for premium SMS alerts)
# -----------------------------------------------------------------------------
# Enable SMS features (true/false)
SMS_ENABLED=false

# Twilio credentials (get from: https://www.twilio.com/console)
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_FROM_NUMBER=+15551234567

# =============================================================================
# HEROKU DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to Heroku, set these config vars:
#
# heroku config:set SECRET_KEY="$(openssl rand -hex 32)"
# heroku config:set STRIPE_SECRET_KEY="sk_live_..."
# heroku config:set STRIPE_WEBHOOK_SECRET="whsec_..."
# heroku config:set STRIPE_PRICE_PROFESSIONAL="price_..."
# heroku config:set STRIPE_PRICE_ENTERPRISE="price_..."
# heroku config:set PUBLIC_APP_HOST="your-app.herokuapp.com"
# heroku config:set SMTP_HOST="smtp.sendgrid.net"
# heroku config:set SMTP_USERNAME="apikey"
# heroku config:set SMTP_PASSWORD="SG...."
# heroku config:set SMTP_FROM="noreply@easyrfp.ai"
# heroku config:set RUN_DDL_ON_START="false"
# heroku config:set START_SCHEDULER_WEB="false"
# heroku config:set ADMIN_EMAIL="admin@yourdomain.com"
# heroku config:set ADMIN_PASSWORD="secure-password"
#
# DATABASE_URL is auto-set by Heroku Postgres addon
# =============================================================================
