<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calendar - EasyRFP</title>
  <link rel="stylesheet" href="dashboard.css">
  <link rel="stylesheet" href="calendar.css">
</head>
<body>
  <div class="scroll-progress" id="scrollProgress"></div>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">
        <svg width="36" height="36" viewBox="0 0 40 40" fill="none">
          <rect width="40" height="40" rx="12" fill="url(#grad1)"/>
          <path d="M10 20L17 27L30 13" stroke="white" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/>
          <defs>
            <linearGradient id="grad1" x1="0" y1="0" x2="40" y2="40">
              <stop offset="0%" stop-color="#126a45"/>
              <stop offset="100%" stop-color="#22c55e"/>
            </linearGradient>
          </defs>
        </svg>
        <span>EasyRFP</span>
      </div>

      <div class="nav-label">Main Menu</div>
      <nav class="navlinks">
        <a href="index.html" class="nav-link">
          <span class="nav-icon">üè†</span>
          <span class="nav-text">Home</span>
        </a>
        <a href="opportunities.html" class="nav-link">
          <span class="nav-icon">üîç</span>
          <span class="nav-text">Discover Bids</span>
        </a>
        <a href="dashboard-demo.html" class="nav-link">
          <span class="nav-icon">üìä</span>
          <span class="nav-text">My Dashboard</span>
        </a>
        <a href="documents.html" class="nav-link">
          <span class="nav-icon">üìÅ</span>
          <span class="nav-text">Documents</span>
        </a>
        <a href="calendar.html" class="nav-link active">
          <span class="nav-icon">üìÖ</span>
          <span class="nav-text">Calendar</span>
        </a>
      </nav>

      <div class="nav-label" style="margin-top: 24px;">Account</div>
      <nav class="navlinks">
        <a href="account.html" class="nav-link">
          <span class="nav-icon">üë§</span>
          <span class="nav-text">My Account</span>
        </a>
        <a href="settings.html" class="nav-link">
          <span class="nav-icon">‚öôÔ∏è</span>
          <span class="nav-text">Settings</span>
        </a>
        <a href="#" class="nav-link">
          <span class="nav-icon">üí¨</span>
          <span class="nav-text">Support</span>
        </a>
      </nav>
    </aside>

    <div class="content">
      <div class="topbar">
        <div class="topbar-left">
          <a class="top-pill" href="index.html">
            <span>‚Üê</span>
            <span class="top-label">Back to Site</span>
          </a>
          <span class="top-pill">
            <span>‚ö°</span>
            <span class="top-label">Plan:</span>
            <strong>Professional</strong>
            <a href="#" class="top-upgrade">Upgrade</a>
          </span>
        </div>
        <div class="topbar-right">
          <button class="icon-btn tooltip" data-tooltip="Notifications" type="button" id="notifBtn">
            üîî
            <span class="notif-dot">3</span>
          </button>
          <button class="icon-btn tooltip" data-tooltip="Help Center">‚ùì</button>
          <button class="avatar-button">
            <span class="avatar-circle">JD</span>
            <span style="font-size: 10px; color: #94a3b8;">‚ñº</span>
          </button>
        </div>
      </div>

      <main class="page calendar-page">
        <div class="calendar-header fade-in">
          <div class="calendar-title-section">
            <h1 class="calendar-title">Calendar</h1>
            <p class="calendar-subtitle">Track all your bid deadlines and important dates</p>
          </div>
          <div class="calendar-actions">
            <button class="calendar-view-btn active">Month</button>
            <button class="calendar-view-btn">Week</button>
            <button class="calendar-view-btn">List</button>
          </div>
        </div>

        <div class="calendar-nav fade-in stagger-1">
          <button class="nav-arrow" id="prevMonth">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 18l-6-6 6-6"/>
            </svg>
          </button>
          <h2 class="current-month" id="currentMonth">December 2025</h2>
          <button class="nav-arrow" id="nextMonth">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 18l6-6-6-6"/>
            </svg>
          </button>
          <button class="today-btn" id="todayBtn">Today</button>
        </div>

        <div class="calendar-container fade-in stagger-2">
          <div class="calendar-grid">
            <div class="calendar-weekdays">
              <div class="weekday">Sun</div>
              <div class="weekday">Mon</div>
              <div class="weekday">Tue</div>
              <div class="weekday">Wed</div>
              <div class="weekday">Thu</div>
              <div class="weekday">Fri</div>
              <div class="weekday">Sat</div>
            </div>
            <div class="calendar-days" id="calendarDays">
            </div>
          </div>

          <div class="calendar-sidebar">
            <div class="sidebar-section">
              <h3 class="sidebar-title">Upcoming Deadlines</h3>
              <div class="upcoming-list" id="upcomingList">
              </div>
            </div>

            <div class="sidebar-section">
              <h3 class="sidebar-title">Legend</h3>
              <div class="legend-list">
                <div class="legend-item">
                  <span class="legend-dot urgent"></span>
                  <span>Urgent (Due Today)</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot due-soon"></span>
                  <span>Due Soon (3 days)</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot active"></span>
                  <span>Active Bids</span>
                </div>
                <div class="legend-item">
                  <span class="legend-dot meeting"></span>
                  <span>Meetings</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const events = [
        { date: '2025-12-02', title: 'Safety Boots Supply Contract', type: 'urgent', agency: 'City of Columbus' },
        { date: '2025-12-03', title: 'Yard Waste Processing RFP', type: 'due-soon', agency: 'Franklin County' },
        { date: '2025-12-05', title: 'HVAC Services Contract', type: 'active', agency: 'COTA' },
        { date: '2025-12-08', title: 'Pre-bid Conference Call', type: 'meeting', agency: 'Ohio DOT' },
        { date: '2025-12-10', title: 'Fleet Management System', type: 'active', agency: 'City of Dublin' },
        { date: '2025-12-12', title: 'IT Infrastructure Upgrade', type: 'due-soon', agency: 'Franklin County' },
        { date: '2025-12-15', title: 'Snow Removal Services', type: 'active', agency: 'City of Westerville' },
        { date: '2025-12-18', title: 'Quarterly Review Meeting', type: 'meeting', agency: 'Internal' },
        { date: '2025-12-20', title: 'Janitorial Services RFP', type: 'active', agency: 'Columbus City Schools' },
        { date: '2025-12-22', title: 'Emergency Vehicle Maintenance', type: 'urgent', agency: 'Franklin County' },
        { date: '2025-12-28', title: 'Office Supplies Contract', type: 'active', agency: 'State of Ohio' },
        { date: '2025-11-26', title: 'Landscape Maintenance', type: 'urgent', agency: 'City of Columbus' },
        { date: '2025-11-28', title: 'Building Security Audit', type: 'due-soon', agency: 'COTA' },
        { date: '2025-11-29', title: 'Team Strategy Meeting', type: 'meeting', agency: 'Internal' },
      ];

      let currentDate = new Date();
      let currentMonth = currentDate.getMonth();
      let currentYear = currentDate.getFullYear();

      const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'];

      function renderCalendar() {
        const calendarDays = document.getElementById('calendarDays');
        const currentMonthEl = document.getElementById('currentMonth');
        
        currentMonthEl.textContent = `${monthNames[currentMonth]} ${currentYear}`;
        
        const firstDay = new Date(currentYear, currentMonth, 1);
        const lastDay = new Date(currentYear, currentMonth + 1, 0);
        const startingDay = firstDay.getDay();
        const totalDays = lastDay.getDate();
        
        const prevLastDay = new Date(currentYear, currentMonth, 0).getDate();
        
        let html = '';
        
        for (let i = startingDay - 1; i >= 0; i--) {
          html += `<div class="calendar-day other-month">${prevLastDay - i}</div>`;
        }
        
        const today = new Date();
        for (let day = 1; day <= totalDays; day++) {
          const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
          const dayEvents = events.filter(e => e.date === dateStr);
          
          const isToday = day === today.getDate() && 
                          currentMonth === today.getMonth() && 
                          currentYear === today.getFullYear();
          
          let dayClass = 'calendar-day';
          if (isToday) dayClass += ' today';
          if (dayEvents.length > 0) dayClass += ' has-events';
          
          let eventsHtml = '';
          dayEvents.slice(0, 3).forEach(event => {
            eventsHtml += `<div class="day-event ${event.type}">${event.title}</div>`;
          });
          if (dayEvents.length > 3) {
            eventsHtml += `<div class="day-event more">+${dayEvents.length - 3} more</div>`;
          }
          
          html += `
            <div class="${dayClass}" data-date="${dateStr}">
              <span class="day-number">${day}</span>
              <div class="day-events">${eventsHtml}</div>
            </div>
          `;
        }
        
        const remainingDays = 42 - (startingDay + totalDays);
        for (let i = 1; i <= remainingDays; i++) {
          html += `<div class="calendar-day other-month">${i}</div>`;
        }
        
        calendarDays.innerHTML = html;
        renderUpcoming();
      }

      function renderUpcoming() {
        const upcomingList = document.getElementById('upcomingList');
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        
        const upcoming = events
          .filter(e => new Date(e.date) >= today)
          .sort((a, b) => new Date(a.date) - new Date(b.date))
          .slice(0, 5);
        
        let html = '';
        upcoming.forEach(event => {
          const eventDate = new Date(event.date);
          const diffDays = Math.ceil((eventDate - today) / (1000 * 60 * 60 * 24));
          let dateLabel;
          if (diffDays === 0) dateLabel = 'Today';
          else if (diffDays === 1) dateLabel = 'Tomorrow';
          else dateLabel = eventDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
          
          html += `
            <div class="upcoming-item ${event.type}">
              <div class="upcoming-dot"></div>
              <div class="upcoming-content">
                <div class="upcoming-title">${event.title}</div>
                <div class="upcoming-meta">
                  <span>${event.agency}</span>
                  <span class="upcoming-date">${dateLabel}</span>
                </div>
              </div>
            </div>
          `;
        });
        
        upcomingList.innerHTML = html;
      }

      document.getElementById('prevMonth').addEventListener('click', () => {
        currentMonth--;
        if (currentMonth < 0) {
          currentMonth = 11;
          currentYear--;
        }
        renderCalendar();
      });

      document.getElementById('nextMonth').addEventListener('click', () => {
        currentMonth++;
        if (currentMonth > 11) {
          currentMonth = 0;
          currentYear++;
        }
        renderCalendar();
      });

      document.getElementById('todayBtn').addEventListener('click', () => {
        const today = new Date();
        currentMonth = today.getMonth();
        currentYear = today.getFullYear();
        renderCalendar();
      });

      document.querySelectorAll('.calendar-view-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.calendar-view-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

      renderCalendar();

      // Scroll Progress Indicator
      const scrollProgress = document.getElementById('scrollProgress');
      const content = document.querySelector('.content');
      
      content.addEventListener('scroll', () => {
        const scrollTop = content.scrollTop;
        const scrollHeight = content.scrollHeight - content.clientHeight;
        const progress = (scrollTop / scrollHeight) * 100;
        scrollProgress.style.width = progress + '%';
      });
    });
  </script>

  <div class="notif-overlay" id="notifOverlay"></div>
  <div class="notif-sidebar" id="notifSidebar">
    <div class="notif-header">
      <div class="notif-header-top">
        <h2 class="notif-title">Notifications</h2>
        <div class="notif-header-actions">
          <button class="notif-action-btn" id="markAllRead" title="Mark all as read">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </button>
          <button class="notif-close-btn" id="notifCloseBtn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
      <div class="notif-tabs">
        <button class="notif-tab active" data-filter="all">All</button>
        <button class="notif-tab" data-filter="unread">Unread <span class="notif-tab-count">3</span></button>
        <button class="notif-tab" data-filter="deadlines">Deadlines</button>
        <button class="notif-tab" data-filter="team">Team</button>
      </div>
    </div>
    <div class="notif-list" id="notifList">
      <div class="notif-date-group">
        <div class="notif-date-label">Today</div>
        <div class="notif-item unread urgent" data-type="deadlines">
          <div class="notif-item-icon urgent">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
          </div>
          <div class="notif-item-content">
            <div class="notif-item-title">Bid deadline in 24 hours</div>
            <div class="notif-item-desc">HVAC Maintenance Contract #2024-089 is due tomorrow at 2:00 PM</div>
            <div class="notif-item-meta">
              <span class="notif-time">2 hours ago</span>
              <span class="notif-tag urgent">Urgent</span>
            </div>
          </div>
          <button class="notif-item-action" title="Dismiss">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="notif-item unread" data-type="team">
          <div class="notif-item-icon team">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
          </div>
          <div class="notif-item-content">
            <div class="notif-item-title">Sarah K. uploaded a document</div>
            <div class="notif-item-desc">Pricing spreadsheet added to HVAC Maintenance Contract</div>
            <div class="notif-item-meta">
              <span class="notif-time">3 hours ago</span>
            </div>
          </div>
          <button class="notif-item-action" title="Dismiss">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        <div class="notif-item unread" data-type="deadlines">
          <div class="notif-item-icon warning">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
              <line x1="12" y1="9" x2="12" y2="13"></line>
              <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
          </div>
          <div class="notif-item-content">
            <div class="notif-item-title">Bid deadline approaching</div>
            <div class="notif-item-desc">Yard Waste Collection RFP due in 3 days</div>
            <div class="notif-item-meta">
              <span class="notif-time">5 hours ago</span>
              <span class="notif-tag warning">Due Soon</span>
            </div>
          </div>
          <button class="notif-item-action" title="Dismiss">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
      <div class="notif-date-group">
        <div class="notif-date-label">Yesterday</div>
        <div class="notif-item" data-type="team">
          <div class="notif-item-icon success">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
              <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
          </div>
          <div class="notif-item-content">
            <div class="notif-item-title">Mike R. completed site visit</div>
            <div class="notif-item-desc">Site assessment finished for Yard Waste Collection RFP</div>
            <div class="notif-item-meta">
              <span class="notif-time">Yesterday at 3:45 PM</span>
            </div>
          </div>
          <button class="notif-item-action" title="Dismiss">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div class="notif-footer">
      <a href="settings.html#notifications" class="notif-settings-link">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
        </svg>
        Notification Settings
      </a>
    </div>
  </div>
  <script src="notifications.js"></script>
</body>
</html>
